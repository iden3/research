Our elements are of : 
	Let $\Fr$ be the finite field with $r$ elements (determinat per ... ). 
	$$ r = 	21888242871839275222246405745257275088548364400416034343698204186575808495617 $$
The hash function used in the Merkle tree is MiMC-7 described in \url{https://eprint.iacr.org/2016/492.pdf}.\\
%[REF]. Original paper MiMC hash: \url{https://eprint.iacr.org/2016/492.pdf}.\\

The idea of this function: Our block cipher is constructed by iterating a round function
$r$
times where each round consists of a key addition with the key
$k$
, the addition of
a round constant
$c_i\in \Fr$, and the application of a non-linear function defined as
$F(x) :=x^7$ for $x\in \Fr$. The ciphertext is finally produced by adding the key
$k$ again to the output of the last round. Hence, the round function is described as
$F_i(x) = F(x) \xor k \xor c_i$ where $c_0 = c_r = 0$ and the encryption process is defined as 
	$$ E_k(x) = (F_{r-1} \circ F_{r-2} \circ ... \circ F_0)(x) \xor k. $$

Note  that  the  random  constants $c_i$ do  not  need  to  be  generated  for  every
evaluation of MiMC-7. Instead the constants are fixed once and can be hard-coded
into the implementation on either side. 

%% Esquema MIMC-7
\input{implementation/fig-mimc7.tex}

% The original paper 
The original paper describes the hash function using exponent 3. The choice of exponent 7 comes from the fact that 3 and $r$ are not coprime, and the optimal {\color{blue}(in which sense?)} choice of another exponent, according (following indications of) to page 20 of the document, is $7$.\\
% Choice of the exponent: Quin exponent triar? As 3 and $r$ are not coprime, we should find another exponent. The optimal choice is to take exponent $d = 7$. (According to page 20 of del document).

The number of rounds is: 
	$$ \text{nRounds} = \ceil*{\frac{\llog r}{\llog 7}} = 91 $$\\

The hash returns 140 bits, this is why Merkle trees are bounded by 140 levels (it is the length of the whole path of a claim). \\

Encadenar valors (tipu pel hash de H(v1, v2, v3, v4) etc.\\
