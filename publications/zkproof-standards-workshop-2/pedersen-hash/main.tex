%% Pedersen hash implementation standard %%

% TELL THEM: These are things we are improving, so it is a draft. Let me know if there is anything else I should add.
% B-JJ vs. B JJ

\documentclass[11pt]{article}
\usepackage[colorlinks=true,
			urlcolor=black,
			linkcolor=black,
			citecolor=black
			]{hyperref} 
\usepackage[parfill]{parskip}

\input{preamble}

\makeatletter
\renewcommand\AB@affilsepx{, \protect\Affilfont}
\makeatother

\title{4-bit windowed Pedersen hash on Baby Jubjub elliptic curve}
\author[1]{Jordi Baylina}
\author[2]{Barry WhiteHat}
\author[1,3]{Marta Bellés}
\affil[1]{iden3}
\affil[2]{Ethereum foundation}
\affil[3]{Universitat Pompeu Fabra}
\date{} %% if you don't need date to appear
\setcounter{Maxaffil}{0}
\renewcommand\Affilfont{\itshape\small}
% \includegraphics[scale=0.3]{iden3.png} 

\begin{document}
%\begin{spacing}{1.2}	
	{\maketitle}
	\vspace{-0.2cm}
%	\vspace{1.5cm}
	\red{{\bf JORDI:}
		\begin{itemize}
			\item All Montgomery? Then it is $-(x,y) = (x,-y)$!
				  %https://github.com/zcash/zcash/issues/2234
			\item Sure $k=5$ i no $k=7$?
			\item Challenges section? (Nothing? Com fer-ho per encadenar-los?)
			\item Segur que Keccak i no Blake-2s? Tot està implementat amb aquest últim hash. 
		\end{itemize}
	}
    {\color{purple}{\bf Jacques:}
        \begin{itemize}
            \item Split Scope, motivation and background in three sections
			\item Add missing ``the'' at the end of Terminolgoy Elliptic curve: Baby-Jubjub
			\item Use ``Title Case'' for all titles
			\item Move Efficiency (cost) to Implementation
			\item Move Overflow to Security
			\item Write IP section
        \end{itemize}
    }
	\tableofcontents
	
	%\vspace{0.5cm}
	
	\newpage

    \section{Scope {\color{purple} - Edited by Jacques}}
        \input{scope}
	\section{Motivation {\color{purple} - Edited by Jacques}}
        \input{motivation}
    \section{Background {\color{purple} - Edited by Jacques}}
        \input{background}

	\section{Terminology}	
		\subsection{Elliptic Curve: Baby-Jubjub \red{Montgomery??} {\color{purple} Title Case}}
			\input{baby-jubjub}
		\subsection{Pedersen Hash {\color{purple} Title Case}}
			\input{pedersen-definition}
	
	\section{Description}
	
	\subsection{Set Of Generators {\color{purple} Title Case}}
		\input{generators}
		\subsection{Computation Of The Pedersen Hash {\color{purple} Title Case}}
		\input{computation}
		\label{sec-computation}
		\subsection{Examples And Test Vectors {\color{purple} Title Case}}
		
	\section{Challenges}
	\input{challenges}

	\section{Security}
		\red{DIR QUE ESTEM A MONTGOMERY PERÒ QUE NO HI HA PROBLEMES: NO REPETIM PUNTS I NO SUMEM MAI EL 0. }
		\subsection{\color{purple} Overflow Prevention}
			\input{no-overflow}

			
	\section{Implementation}
		\subsection{A Note On Efficency {\color{purple} Moved as a subsection of Implementation by Jacques}}
			\subsection{Number Of Constraints Per Bit \red{-- canviar lleugerament la redacció!} {\color{purple} Title Case}}
			\input{cost}
		\subsection{Existing Implementations}
			\input{implementation}

	\section {Intellectual Property \red{-- Jordi} {\color{purple} Written by Jacques}}
		\input{intellectual-property.tex}

	% \newpage
	\addcontentsline{toc}{section}{References}
	\bibliographystyle{acm}
	\bibliography{lit}	

%\end{spacing}	
\end{document}
