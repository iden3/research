% % !TEX root =/Users/martabellesmunoz/Dropbox/Documents/Berkley-Standards/Structure.tex

\documentclass{article}
\usepackage[colorlinks=true,
			urlcolor=black,
			linkcolor=black,
			citecolor=black
			]{hyperref} 

\input{preamble.tex}

\title{ Baby Jubjub elliptic curve \vspace{-0.2cm} }
\author[1]{Author 1}
\author[2]{Author 2}
\author[1]{Author 3}
\affil[1]{Affiliation 1}
\affil[2]{Affiliation 2}
\date{} %% if you don't need date to appear
\setcounter{Maxaffil}{0}
\renewcommand\Affilfont{\itshape\small}
% \includegraphics[scale=0.3]{iden3.png} 

\begin{document}

\maketitle 
\vspace{1cm}
\tableofcontents

\vspace{0.5cm}

%\newpage

\section{Scope, motivation and background}	\input{motivation}

\section{Terminology and description}

%Let $p$ be a prime number and $\Fp$ the finite field with $p$ elements. Let $E$ be an elliptic curve defined over $\Fp$ of order $n = h\times r$, where $r$ is a large prime and $h$ is typically a small positive integer called cofactor.\\ 
%% The notation used in this document is the following one.
%
%\begin{table}[htp]
%	\begin{center}
%		\begin{tabular}{c|c|c}
%			{\bf Group} & {\bf Description} & {\bf Order} \\
%			\hline 
%			$\Fp$ & Finite field with $p$ elements & $p$\\
%			$E$ & Elliptic curve group & $n = h\times r$\\
%			$\G \subseteq E$ & Subgroup of points of $E$ of order $r$ & $r$%\\
%		\end{tabular}
%	\end{center}
%\end{table}


Baby-Jubjub elliptic curve is the result of a deterministic algorithm [REF]. 

Appendix A.  Deterministic Generation. 

Specifically, it defines how to generate the parameter
A of the Montgomery curve $y^2 = x^3 + A*x^2 + x$.  

that satisfies SafeCurves criteria.

This procedure is
intended to be as objective as can reasonably be achieved so that
it's clear that no untoward considerations influenced the choice of
curve.  

The input to this process is p, the prime that defines the
underlying field. 

The value (A-2)/4 is used in several of the elliptic curve point
arithmetic formulas.  For simplicity and performance reasons, it is
beneficial to make this constant small, i.e., to choose A so that
(A-2) is a small integer that is divisible by four.





%% Generating a curve where p = 1 mod 4
%\begin{lstlisting}
%def findCurve (prime, curveCofactor, twistCofactor):
%	F = GF(prime)
%	
%	for A in xrange(3, int(1e9)):
%		if (A-2) % 4 != 0:
%			continue
%	
%		try:
%			E = EllipticCurve(F, [0, A, 0, 1, 0])
%		except:
%			continue
%		
%		groupOrder = E.order()
%		twistOrder = 2*(prime+1)-groupOrder
%	
%	if (groupOrder % curveCofactor == 0 and
%		is_prime(groupOrder // curveCofactor) and
%		twistOrder % twistCofactor == 0 and
%		is_prime(twistOrder // twistCofactor)):
%		return A
%	
%def find1Mod4 (prime):
%	assert((prime % 4) == 1)
%	return findCurve(prime, 8, 4)
%\end{lstlisting}

This is the lowest A=168698 of a montgomary curve that statifies the critieria defined in ref7748
This ref: We used the algorithm from appendix A.%
%https://tools.ietf.org/html/rfc7748
We take p as the curve order of bn128curve (REF) to embed them.

Equivalent to (twisted) Edwards.

As
$p=...$
és = 1 mòdul 4.
	\subsection{Baby Jubjub elliptic curve}	\input{baby-jubjub}
		\subsubsection{(TWISTED??) Edwards form}
	\input{baby-jubjub-edwards}
		\subsubsection{Montgomery form}
	\input{baby-jubjub-montgomery}
	\subsection{Arithmetic in the elliptic curve}
	In this section we define two operations supported in the elliptic curve group: addition of points and multiplication of a point by a scalar (an element of $\Fp$).
	 	\subsubsection{Addition of points} \input{addition}
	 	\subsubsection{Multiplication of a point by a scalar} \input{multiplication}
 
\section{Challenges and security}	\input{security}
 - It saitsfies the criteria used in such. 
	
\section{Implementation}			\input{implementation}			
Barry i Jordi codi. Implementació de les operacions.
	
\section {Intellectual Property}	\input{intellectual-property}
	
	\cite{generation-baby}

	\newpage
	\addcontentsline{toc}{section}{References}
	\bibliographystyle{acm}
	\bibliography{lit}

\end{document}